<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.avg.lawsuitmanagement.client.repository.ClientMapperRepository">

    <select id="selectClientById" parameterType="java.lang.Long">
        select *
        from client
        where id = #{clientId} and is_deleted=false;;
    </select>

    <select id="selectClientByEmail" parameterType="java.lang.String">
        select *
        from client
        where email = #{email} and is_deleted=false;;
    </select>

    <insert id="insertClient" parameterType="InsertClientParam">
        insert into client (email, name, phone, address)
        values (#{email}, #{name}, #{phone}, #{address});
    </insert>

    <update id="updateClientMemberId" parameterType="UpdateClientMemberIdParam">
        update client
        set member_id = #{memberId}
        where id = #{clientId};
    </update>

    <update id="updateClientInfo" parameterType="UpdateClientInfoParam">
        update client
        set email=#{email}, name=#{name}, phone=#{phone}, address=#{address}
        where id = #{clientId};
    </update>


</mapper>